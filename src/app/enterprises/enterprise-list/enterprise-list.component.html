<div fxLayout="column" class="enterprise-list" [ngClass]="{'cont wrapper':inDashboard}">
  <div fxLayout="row" class="enterprise-list__header" [ngClass]="{'cont__title':inDashboard}">
    <h2>Empresas</h2>
    <span fxFlex></span>
    <button class="cmp-btn cmp-btn--violet" (click)="crud('create')">Crear Empresa</button> 
  </div>  
  <div class="enterprise-list__dataset" [ngClass]="{'cmp-card':inDashboard}">
    <!-- <mat-table #table [dataSource]="enterpriseDS">
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> Nombre </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row ? row.name: ''}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="ruc">
        <mat-header-cell *matHeaderCellDef> RUC </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row ? row.ruc: ''}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="manage">
        <mat-header-cell *matHeaderCellDef> Administrar </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row ? (row.id == currentEnterprise.id?'Administrando':'Administrar') : '' }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="team">
          <mat-header-cell *matHeaderCellDef> Equipo </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <span>{{row ? row.adminsQuantity: ''}}</span>
            <i class="fa fa-users"></i>
          </mat-cell>
        </ng-container>
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> </mat-header-cell>
        <mat-cell *matCellDef="let row">          
          <i class="fa fa-pencil"></i>          
          <i class="fa fa-trash"></i>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table> -->
    <div [ngClass]="{'cmp-card__title':inDashboard}">
      <div class="enterprise-list__message">
        Hola {{currentUser?currentUser.firstName:''}}, en esta sección tu administras tus empresas, recuerda que cada empresa es,
        independiente entre sí y se puede elegir cuál es la que se está administrando actualmente.
        Para agregar más usuarios administrador hacer <b>click</b> en Equipo.
      </div>
    </div>
    <div [ngClass]="{'cmp-card__body':inDashboard}">
      <div class="cmp-table">
        <ul class="cmp-table__header" fxLayoutAlign="space-between center">
          <li fxFlex class="header__title header__title--action" *ngFor="let column of displayedColumns">{{column}}</li>
          <li fxFlex class="header__title ">Acciones</li>
        </ul>
        <ul class="cmp-table__body enterprise-list__dataset__item" *ngFor="let enterprise of enterpriseList"
          fxLayout="row" fxLayoutAlign="start center">
          <li fxFlex class="body__text">{{enterprise.name}}</li>
          <li fxFlex class="body__text">{{enterprise.ruc}}</li>
          <li fxFlex class="body__text">
            <button class="cmp-btn cmp-btn--grey enterprise-list__dataset__item__managing-indicator"
            [ngClass]="{'cmp-btn--green': isManaging(enterprise)}" (click)="manageThis(enterprise)">
              {{isManaging(enterprise)?'Administrando':'Administrar'}}
            </button>          
          </li>
          <li fxFlex class="body__text">
            <a routerLink="/dashboard/usuarios">
              <i class="fa fa-users"></i>&nbsp;{{enterprise.adminsQuantity || 0}}
            </a> 
          </li>
          <li class="body__text">
              <button class="cmp-btn cmp-btn--actions" (click)="crud('update',enterprise)">
                <i class="fa fa-pencil" aria-hidden="true"></i> Editar
              </button>
              <button class="cmp-btn cmp-btn--violet cmp-btn--actions"(click)="crud('delete',enterprise)"
                [disabled]="isManaging(enterprise)">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
                Eliminar
              </button>
          </li>
        </ul>
      </div>
    </div>    
  </div>
</div>
